{"version":3,"file":"editor.js","sourceRoot":"","sources":["../../../src/components/editor.ts"],"names":[],"mappings":"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","sourcesContent":["/* eslint-disable @typescript-eslint/no-explicit-any, no-param-reassign, camelcase, lit/no-useless-template-literals, lit-a11y/click-events-have-key-events */\nimport { LitElement, html, customElement, property, TemplateResult, CSSResult, css, internalProperty } from 'lit-element';\nimport { HomeAssistant, LovelaceCardEditor, ActionConfig, LovelaceCardConfig } from 'custom-card-helpers';\nimport '../types.js';\n\nimport { TeslaStyleSolarPowerCardConfig } from '../models/TeslaStyleSolarPowerCardConfig.js';\n\nconst options = {\n  entities: {\n    icon: 'tune',\n    name: 'Entities',\n    secondary: 'Entities for card to make sense, none are required but you should have a few.',\n    show: false,\n  },\n  actions: {\n    icon: 'gesture-tap-hold',\n    name: 'Actions',\n    secondary: 'Perform actions based on tapping/clicking',\n    show: false,\n    options: {\n      tap: {\n        icon: 'gesture-tap',\n        name: 'Tap',\n        secondary: 'Set the action to perform on tap',\n        show: false,\n      },\n      hold: {\n        icon: 'gesture-tap-hold',\n        name: 'Hold',\n        secondary: 'Set the action to perform on hold',\n        show: false,\n      },\n      double_tap: {\n        icon: 'gesture-double-tap',\n        name: 'Double Tap',\n        secondary: 'Set the action to perform on double tap',\n        show: false,\n      },\n    },\n  },\n  appearance: {\n    icon: 'palette',\n    name: 'Appearance',\n    secondary: 'Customize the name, icon, etc',\n    show: false,\n  },\n};\n\n@customElement('tesla-style-solar-power-card-editor')\nexport class TeslaStyleSolarPowerCardEditor extends LitElement implements LovelaceCardEditor {\n  @property({ attribute: false }) public hass?: HomeAssistant;\n\n  @internalProperty() private _config?: LovelaceCardConfig;\n\n  @internalProperty() private _toggle?: boolean;\n\n  @internalProperty() private _helpers?: any;\n\n  private _initialized = false;\n\n  private _entityMap = new Map();\n\n  public setConfig(config: LovelaceCardConfig): void {\n    this._config = config;\n\n    // this._fillLineEntityMap();\n    this.loadCardHelpers();\n  }\n\n  protected shouldUpdate(): boolean {\n    if (!this._initialized) {\n      this._initialize();\n    }\n\n    return true;\n  }\n\n  get name(): string {\n    return this._config?.name || '';\n  }\n\n  // entities\n  get home_entity(): string {\n    return this._config?.home_entity || '';\n  }\n\n  get battery_entity(): string {\n    return this._config?.battery_consumption_entity || '';\n  }\n\n  get grid_entity(): string {\n    return this._config?.grid_entity || '';\n  }\n\n  get generation_entity(): string {\n    return this._config?.generation_entity || '';\n  }\n\n  get home_extra_entity(): string {\n    return this._config?.home_entity || '';\n  }\n\n  get battery_extra_entity(): string {\n    return this._config?.battery_consumption_entity || '';\n  }\n\n  get grid_extra_entity(): string {\n    return this._config?.grid_entity || '';\n  }\n\n  get generation_extra_entity(): string {\n    return this._config?.generation_entity || '';\n  }\n\n  get grid_to_house_entity(): string {\n    return this._config?.grid_to_house_entity || '';\n  }\n\n  get grid_to_battery_entity(): string {\n    return this._config?.grid_to_battery_entity || '';\n  }\n\n  get battery_to_grid_in_entity(): string {\n    return this._config?.battery_to_grid_entity || '';\n  }\n\n  get generation_to_grid_entity(): string {\n    return this._config?.grid_to_battery_entity || '';\n  }\n\n  get generation_to_house_entity(): string {\n    return this._config?.generation_entity || '';\n  }\n\n  get generation_to_battery_entity(): string {\n    return this._config?.generation_yield_entity || '';\n  }\n\n  get appliance1_consumption_entity(): string {\n    return this._config?.appliance1_consumption_entity || '';\n  }\n\n  get appliance1_extra_entity(): string {\n    return this._config?.appliance1_state_entity || '';\n  }\n\n  get appliance2_consumption_entity(): string {\n    return this._config?.appliance2_consumption_entity || '';\n  }\n\n  get appliance2_extra_entity(): string {\n    return this._config?.appliance2_state_entity || '';\n  }\n\n  get show_w_not_kw(): boolean {\n    return this._config?.show_w_not_kw || false;\n  }\n\n  get show_warning(): boolean {\n    return this._config?.show_warning || false;\n  }\n\n  get show_error(): boolean {\n    return this._config?.show_error || false;\n  }\n\n  get hide_inactive_lines(): boolean {\n    return this._config?.hide_inactive_lines || false;\n  }\n\n  get tap_action(): ActionConfig {\n    return this._config?.tap_action || { action: 'more-info' };\n  }\n\n  get hold_action(): ActionConfig {\n    return this._config?.hold_action || { action: 'none' };\n  }\n\n  get double_tap_action(): ActionConfig {\n    return this._config?.double_tap_action || { action: 'none' };\n  }\n\n  protected render(): TemplateResult | void {\n    if (!this.hass || !this._helpers) {\n      return html``;\n    }\n\n    // The climate more-info has ha-switch and paper-dropdown-menu elements that are lazy loaded unless explicitly done here\n    this._helpers.importMoreInfoControl('climate');\n\n    return html`\n      <div class=\"card-config\">\n        <paper-input\n          .label=\"${this.hass.localize('ui.panel.lovelace.editor.card.generic.title')} (${this.hass.localize(\n            'ui.panel.lovelace.editor.card.config.optional'\n          )})\"\n          .value=${this.name}\n          .configValue=${'name'}\n          @value-changed=${this._valueChanged}\n        ></paper-input>\n        <div class=\"option\" @click=${this._toggleOption} .option=${'entities'}>\n          <div class=\"row\">\n            <ha-icon .icon=${`mdi:${options.entities.icon}`}></ha-icon>\n            <div class=\"title\">${options.entities.name}</div>\n          </div>\n          <div class=\"secondary\">${options.entities.secondary}</div>\n        </div>\n        ${options.entities.show\n          ? html`<div class=\"values\">\n              ${Array.from(this._entityMap).map(entityArr => {\n                const entityName: keyof TeslaStyleSolarPowerCardConfig = entityArr[0];\n                const entityFunction = this[`_${entityName}`];\n                return html`\n                  <ha-entity-picker\n                    label=\"${entityName}\"\n                    @value-changed=${this._valueChanged}\n                    .hass=\"${this.hass}\"\n                    .value=\"${entityFunction}\"\n                    .configValue=${entityName}\n                    @change=\"${this._valueChanged}\"\n                    allow-custom-entity\n                  >\n                  </ha-entity-picker>\n                `;\n              })}\n            </div>`\n          : ''}\n        <div class=\"option\" @click=${this._toggleOption} .option=${'actions'}>\n          <div class=\"row\">\n            <ha-icon .icon=${`mdi:${options.actions.icon}`}></ha-icon>\n            <div class=\"title\">${options.actions.name}</div>\n          </div>\n          <div class=\"secondary\">${options.actions.secondary}</div>\n        </div>\n        ${options.actions.show\n          ? html`\n              <div class=\"values\">\n                <div class=\"option\" @click=${this._toggleAction} .option=${'tap'}>\n                  <div class=\"row\">\n                    <ha-icon .icon=${`mdi:${options.actions.options.tap.icon}`}></ha-icon>\n                    <div class=\"title\">${options.actions.options.tap.name}</div>\n                  </div>\n                  <div class=\"secondary\">${options.actions.options.tap.secondary}</div>\n                </div>\n                ${options.actions.options.tap.show\n                  ? html`\n                      <div class=\"values\">\n                        <paper-item>Action Editors Coming Soon</paper-item>\n                      </div>\n                    `\n                  : ''}\n                <div class=\"option\" @click=${this._toggleAction} .option=${'hold'}>\n                  <div class=\"row\">\n                    <ha-icon .icon=${`mdi:${options.actions.options.hold.icon}`}></ha-icon>\n                    <div class=\"title\">${options.actions.options.hold.name}</div>\n                  </div>\n                  <div class=\"secondary\">${options.actions.options.hold.secondary}</div>\n                </div>\n                ${options.actions.options.hold.show\n                  ? html`\n                      <div class=\"values\">\n                        <paper-item>Action Editors Coming Soon</paper-item>\n                      </div>\n                    `\n                  : ''}\n                <div class=\"option\" @click=${this._toggleAction} .option=${'double_tap'}>\n                  <div class=\"row\">\n                    <ha-icon .icon=${`mdi:${options.actions.options.double_tap.icon}`}></ha-icon>\n                    <div class=\"title\">${options.actions.options.double_tap.name}</div>\n                  </div>\n                  <div class=\"secondary\">${options.actions.options.double_tap.secondary}</div>\n                </div>\n                ${options.actions.options.double_tap.show\n                  ? html`\n                      <div class=\"values\">\n                        <paper-item>Action Editors Coming Soon</paper-item>\n                      </div>\n                    `\n                  : ''}\n              </div>\n            `\n          : ''}\n        <div class=\"option\" @click=${this._toggleOption} .option=${'appearance'}>\n          <div class=\"row\">\n            <ha-icon .icon=${`mdi:${options.appearance.icon}`}></ha-icon>\n            <div class=\"title\">${options.appearance.name}</div>\n          </div>\n          <div class=\"secondary\">${options.appearance.secondary}</div>\n        </div>\n        ${options.appearance.show\n          ? html`\n              <div class=\"values\">\n                <br />\n                <ha-formfield .label=${`Toggle warning ${this.show_warning ? 'off' : 'on'}`}>\n                  <ha-switch\n                    .checked=${this.show_warning !== false}\n                    .configValue=${'show_warning'}\n                    @change=${this._valueChanged}\n                  ></ha-switch>\n                </ha-formfield>\n                <ha-formfield .label=${`Toggle error ${this.show_error ? 'off' : 'on'}`}>\n                  <ha-switch .checked=${this.show_error !== false} .configValue=${'show_error'} @change=${this._valueChanged}></ha-switch>\n                </ha-formfield>\n                <ha-formfield .label=${`Toggle W instead of kW ${this.show_w_not_kw ? 'off' : 'on'}`}>\n                  <ha-switch\n                    .checked=${this.show_w_not_kw !== false}\n                    .configValue=${'show_w_not_kw'}\n                    @change=${this._valueChanged}\n                  ></ha-switch>\n                </ha-formfield>\n                <ha-formfield .label=${`Toggle hiding inactive power lines ${this.hide_inactive_lines ? 'off' : 'on'}`}>\n                  <ha-switch\n                    .checked=${this.hide_inactive_lines !== false}\n                    .configValue=${'hide_inactive_lines'}\n                    @change=${this._valueChanged}\n                  ></ha-switch>\n                </ha-formfield>\n              </div>\n            `\n          : ''}\n      </div>\n    `;\n  }\n\n  private _initialize(): void {\n    if (this.hass === undefined) return;\n    if (this._config === undefined) return;\n    if (this._helpers === undefined) return;\n    this._initialized = true;\n  }\n\n  private async loadCardHelpers(): Promise<void> {\n    this._helpers = await (window as any).loadCardHelpers();\n  }\n\n  private _toggleAction(ev: any): void {\n    this._toggleThing(ev, options.actions.options);\n  }\n\n  private _toggleOption(ev: any): void {\n    this._toggleThing(ev, options);\n  }\n\n  private _toggleThing(ev: any, optionList: any): void {\n    const show = !optionList[ev.target.option].show;\n    for (const [key] of Object.entries(optionList)) {\n      optionList[key].show = false;\n    }\n    optionList[ev.target.option].show = show;\n    this._toggle = !this._toggle;\n  }\n\n  private _valueChanged(ev: any): void {\n    if (!this._config || !this.hass) {\n      return;\n    }\n    const { target } = ev;\n    if (this[`_${target.configValue}`] === target.value) {\n      return;\n    }\n    if (target.configValue) {\n      if (target.value === '') {\n        delete this._config[target.configValue];\n      } else {\n        this._config = {\n          ...this._config,\n          [target.configValue]: target.checked !== undefined ? target.checked : target.value,\n        };\n      }\n    }\n    // fireEvent(this, 'config-changed', { config: this._config }); // this is breaking the card built when terser is activated\n  }\n\n  private _fillLineEntityMap() {\n    if (this._config !== undefined) {\n      this._entityMap.set('home_entity', this._config.home_entity);\n      this._entityMap.set('grid_entity', this._config.grid_entity);\n      this._entityMap.set('generation_entity', this._config.generation_entity);\n      this._entityMap.set('battery_entity', this._config.battery_entity);\n\n      this._entityMap.set('grid_to_house_entity', this._config.grid_to_battery_entity);\n      this._entityMap.set('grid_to_battery_entity', this._config.grid_to_battery_entity);\n      this._entityMap.set('generation_to_grid_entity', this._config.grid_feed_in_entity);\n      this._entityMap.set('generation_to_house_entity', this._config.generation_consumption_entity);\n      this._entityMap.set('generation_to_battery_entity', this._config.generation_to_battery_entity);\n      this._entityMap.set('battery_to_grid_entity', this._config.generation_consumption_entity);\n      this._entityMap.set('battery_to_house_entity', this._config.generation_to_battery_entity);\n      this._entityMap.set('battery_extra_entity', this._config.battery_extra_entity);\n      this._entityMap.set('appliance1_consumption_entity', this._config.appliance1_entity);\n      this._entityMap.set('appliance1_state_entity', this._config.appliance1_state_entity);\n      this._entityMap.set('appliance2_consumption_entity', this._config.appliance2_entity);\n      this._entityMap.set('appliance2_state_entity', this._config.appliance2_state_entity);\n    }\n  }\n\n  private _fillIconEntityMap() {\n    if (this._config !== undefined) {\n      this._entityMap.set('grid_entity', this._config.grid_entity);\n      this._entityMap.set('home_entity', this._config.home_entity);\n      this._entityMap.set('generation_entity', this._config.generation_entity);\n      this._entityMap.set('battery_entity', this._config.battery_entity);\n      this._entityMap.set('appliance1_entity', this._config.appliance1_entity);\n      this._entityMap.set('appliance2_entity', this._config.appliance2_entity);\n    }\n  }\n\n  static get styles(): CSSResult {\n    return css`\n      .option {\n        padding: 4px 0px;\n        cursor: pointer;\n      }\n      .row {\n        display: flex;\n        margin-bottom: -14px;\n        pointer-events: none;\n      }\n      .title {\n        padding-left: 16px;\n        margin-top: -6px;\n        pointer-events: none;\n      }\n      .secondary {\n        padding-left: 40px;\n        color: var(--secondary-text-color);\n        pointer-events: none;\n      }\n      .values {\n        padding-left: 16px;\n        background: var(--secondary-background-color);\n        display: grid;\n      }\n      ha-formfield {\n        padding-bottom: 8px;\n      }\n    `;\n  }\n}\n"]}